<!DOCTYPE html>

<html lang="ru">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" title="CC BY-SA 4.0">
  <meta name="license" content="CC BY-SA 4.0">
  <link rel="icon" href="https://hugin.shikhalev.org/favicon.svg" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="stylesheet" href="/assets/styles.css" type="text/css">
  
  <link rel="stylesheet" href="/assets/local.css" type="text/css">
  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Полностью 16-битный процесс | Hugin по-русски</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="Полностью 16-битный процесс" />
<meta name="author" content="Иван Шихалев" />
<meta property="og:locale" content="ru" />
<meta name="description" content="Одной из самых больших проблем при создании панорам является динамический диапазон. Чтобы сохранить как максимальное количество уровней, так и максимальный динамический диапазон, рекомендуется использовать 16-битный рабочий процесс. 16 бит здесь относится к разрядности одного канала. Однако в некоторых приложениях и руководствах используется термин «48 бит» или «64 бит», который относится к полной битовой глубине для всех каналов и по существу означает то же самое. Требования Это руководство предназначено только для опытных пользователей. Предполагается, что вы знакомы со съемкой, сшиванием, смешиванием 8-битных изображений, а также с базовыми и расширенными методами редактирования в Photoshop, такими как использование слоев изображения, корректирующих слоев и масок. Источник изображения Чтобы использовать 16-битный рабочий процесс, вам нужна камера, способная сохранять файлы RAW, или сканер плюс приложение, позволяющие сохранять 16-битные файлы. См. «Извлечение динамического диапазона RAW», чтобы узнать, как извлечь полный динамический диапазон из файла RAW в один документ с 16 битами на канал. Программное обеспечение Последняя версия библиотеки pano12 поддерживает 16 бит, так же, как и основные GUI-фронтенды. Если вы хотите использовать autopano, вам может понадобиться инструмент для пакетного преобразования изображений в 8-битные (например, IrfanView), поскольку в autopano в настоящее время есть баг, который вызывает сообщение об ошибке для некоторых типов 16-битных TIFF. Некоторые камеры (например, Nikon D70) сохраняют файл JPEG вместе с файлом RAW. Вы можете использовать этот файл JPEG для использования с autopano. После создания контрольных точек замените JPEG на его 16-битный вариант. Если вы хотите отредактировать результат многослойного сшивания, вам понадобится Adobe Photoshop CS или выше. В этом нет необходимости, если вы используете enblend для смешивания изображений. Съемка панорамы Использование цифровой камеры Чтобы получить максимальный динамический диапазон с помощью цифровой камеры, используйте экспозицию для самых ярких объектов, в которых вы хотите получить детали. В освещенном солнцем пейзаже это обычно облака, но также может быть и белое здание. Цифровые камеры отсекают света, но не тени. Проверьте гистограмму, чтобы увидеть, является ли отсечение проблемой. Хорошую статью о правильной экспозиции с цифровыми изображениями можно найти по адресу http://luminous-landscape.com/tutorials/expose-right.shtml. Съемка в формате RAW позволяет позже создавать из этих файлов 16-битные файлы TIFF с точно отрегулированными экспозицией и балансом белого или даже с другими настройками экспозиции и баланса белого, чтобы пересобрать изображения более благоприятным образом, например, с другим балансом белого для панорамных окон. В плагине Adobe RAW должна быть возможность найти такие настройки, чтобы извлечь хотя бы большую часть доступного динамического диапазона. Попробуйте найти такое значение экспозиции, которое не обрезает света сильнее, чем обрезала камера, и установите «Тени», «Яркость» и «Контрастность» на самые низкие значения. Это, вероятно, сохранит большую часть динамического диапазона. Если вы не используете Windows или Mac OS или просто хотите использовать инструмент командной строки, способный извлекать полный динамический диапазон, всегда есть dcraw. Использование пленки Съемка С цветной негативной пленкой используйте экспонирование для самой темной тени, в которой вы хотите получить детали. Рекомендуется штатив, так как время экспонирования может быть очень долгим, особенно при остановке. Я использую стандартную экспозицию 1/15s при f/16 на ярком солнечном свете с Fuji Reala. Цветная негативная пленка обрезает тени, но не света. Будет хорошей идеей сделать дополнительное изображение, содержащее какую-нибудь цветовую диаграмму или, по крайней мере, серую карту плюс белый лист бумаги и что-то полностью черное. Это поможет позже настроить баланс белого. Сканирование Избегайте клиппинга при сканировании. Отключите все автоматические функции в программном обеспечении для сканирования, которые влияют на баланс белого или экспозицию. Сохраняйте как 16-битный TIFF (иногда называемый 48-битным TIFF). Поэкспериментируйте со своим программным обеспечением для сканирования. С Vuescan используйте расширенный рабочий процесс (см. руководство). Установите цветовой баланс на «Нет» на вкладке «Цвет». Не беспокойтесь о том, что результат будет тусклым и с цветовым оттенком — в готовой сшитой панораме можно исправить все что угодно. Сохранить как «48-битный TIFF». Сшивка Если вы хотите использовать autopano, рекомендуется работать с 8-битными копиями ваших изображений для создания контрольных точек. autopano должен работать с 16-битными изображениями, но в настоящее время отказывается работать с некоторыми типами. Как только вы закончите с autopano, вы можете вернуться к 16-битным оригиналам. Старые версии PTGui автоматически деградировали изображения до 8 бит, если вы выбирали рамку обрезки за пределами изображения или использовали фильтр. Самые последние версии PTGui имеют собственный поиск контрольных точек и сшиватель, оба из которых очень хорошо работают с 16-битными изображениями. Если вы выберете сшиватель PTGui, вы можете установить битовую глубину 8 или 16 бит для выходных форматов, которые его поддерживают. Смешивание По сути, есть три1 возможных способа смешивания изображений: Позвольте panotools делать все, что угодно, выбрав любой формат вывода изображения, такой как TIFF, JPEG или PSD. Вывод нескольких файлов TIFF и их смешивание вручную в графическом редакторе с использованием слоев. 16-битные слои в настоящее время обрабатываются Adobe Photoshop, krita или GIMP. Использование enblend Использование SmartBlend Использование внутреннего блендера PTGui (только последние версии). Enblend enblend хорошо обрабатывает 16-битные изображения. Сделайте то, что вы делали и раньше, используя enblend, и вы получите смешанный 16-битный TIFF. Однако имейте в виду, что в изображение добавляется дополнительный альфа-канал. SmartBlend SmartBlend может работать с 16-битными изображениями, начиная с версии 1.2.2. Он работает точно так же, как enblend, с тем большим отличием, что он пытается удалить «призраков». Photoshop CS Импорт изображений В качестве вывода выберите TIFF с множественными изображениями как с растушевкой (TIFF_mask) так и без (TIFF_m). Используйте действие «Импортировать файлы TIFF с альфа-каналом в маскированные слои», которое можно загрузить с http://www.erik-krause.de/ttt, чтобы собрать отдельные изображения (обычно с именами ‹yourimage›0000.tif, ‹yourimage›0001.tif и т.д.) в многослойный документ Photoshop. Коррекция цветов Если вы ранее снимали серую карту, загрузите это изображение как отдельный файл и поместите корректирующий слой уровней выше. Используйте серую пипетку, чтобы получить нейтральные средние тона, но не используйте белую или черную пипетку, так как они могут вызвать клиппинг. Откройте информационную палитру. Установите точку выборки цвета (в среднем 5x5) для деталей черно-белого изображения и отрегулируйте входные точки белого и черного для цветовых каналов вручную, чтобы получить одинаковые значения цвета для всех каналов. Часто проверяйте значения RGB для черного, белого и серого образцов. Попытайтесь получить минимальное значение общего цвета для точки белого (не изменяя канал с наибольшим значением) и максимальное значение общего цвета для точки черного (не изменяя канал с наименьшим значением). Скорее всего, вам придется повторять эти шаги до тех пор, пока вы не получите нейтральные черный, белый и серый, так как любая корректировка влияет на остальные. Когда вы закончите, перетащите корректирующий слой из палитры слоев на панораму поверх всех остальных слоев. Если вы использовали серый клин, вы можете сделать еще более точную настройку, используя кривые вместо уровней и настраивая несколько оттенков серого, чтобы они были нейтральными. Если вы не снимали серую карту, просто поместите корректирующий слой уровней или кривых поверх слоев изображения и отрегулируйте цвета, чтобы они выглядели естественно. Используйте дополнительные корректирующие слои для настройки контрастности и/или яркости. Может быть хорошей идеей использовать S-образную кривую, чтобы увеличить контраст средних тонов. Сохраните документ перед сведением, чтобы иметь возможность исправить его без потери уровней. После этого отредактируйте маски отдельных слоев, чтобы избежать видимых швов, и, в конечном итоге, используйте дополнительные корректирующие слои, сгруппированные с отдельными слоями изображения, чтобы настроить различия в цвете или яркости. Если вы хотите, чтобы изображение выглядело более четким, сведите его к фону и используйте нерезкую маску с порогом 0, размером от 20% до 50% и радиусом от 70 до 250 пикселей (в зависимости от размера изображения). Перед этим шагом рекомендуется уменьшить размер вывода до предполагаемого, так как это очень медленно работает с большими изображениями. Если в тенях все еще скрыто много деталей или вас не устраивает контрастность, вы можете попробовать более сложные операторы отображения тонов, например, один из тех, которые сравниваются при сжатии HDR, которые также работают с 16-битными изображениями. Исправления Извлечение видов Извлечение видов2 для «заклеивания» штатива, каких-то дыр или несоответствий в зените и проч., — может составлять некоторую проблему, если вы хотите все делать в чистом 16-битном формате. Самая удобная возможность — PTEditor — читает 16-битные TIFF, но записывает только 8-битные. Единственная возможность выполнить задачу в 16-битной версии — это либо использовать PTStitcher (с одним из GUI-интерфейсов или со сценарием), либо совместимые с Photoshop плагины Panorama Tools в 16-битной версии, предоставленные Томасом Ниманном. Различные возможности описаны в разделе «Извлечение и вставка прямолинейных видов». Вставка «колпачков штатива» Еще один способ закрыть штатив — вставить какое-нибудь другое изображение, например, логотип или зеркальный шар. Это не должно быть проблемой для 16-битной версии, если это делается либо с помощью 16-битных плагинов (как упоминалось выше), либо с помощью PTStitcher. Многие возможности описаны в дополнительных материалах. В оригинале так и написано: «there are three possible ways…» — прим. перев. &#8617; Тут есть проблемы с терминологией, «вид» («view») очень уж общее понятие. Речь идет о кусках изображения, которые с одной стороны являются сплошными кусками, с другой — не соответствуют ни исходным кадрам, ни даже их фрагментам, поскольку могут состоять из разных частей разных исходных кадров, к тому же с учетом слияния разных экспозиций и т.д. — прим. перев. &#8617;" />
<meta property="og:description" content="Одной из самых больших проблем при создании панорам является динамический диапазон. Чтобы сохранить как максимальное количество уровней, так и максимальный динамический диапазон, рекомендуется использовать 16-битный рабочий процесс. 16 бит здесь относится к разрядности одного канала. Однако в некоторых приложениях и руководствах используется термин «48 бит» или «64 бит», который относится к полной битовой глубине для всех каналов и по существу означает то же самое. Требования Это руководство предназначено только для опытных пользователей. Предполагается, что вы знакомы со съемкой, сшиванием, смешиванием 8-битных изображений, а также с базовыми и расширенными методами редактирования в Photoshop, такими как использование слоев изображения, корректирующих слоев и масок. Источник изображения Чтобы использовать 16-битный рабочий процесс, вам нужна камера, способная сохранять файлы RAW, или сканер плюс приложение, позволяющие сохранять 16-битные файлы. См. «Извлечение динамического диапазона RAW», чтобы узнать, как извлечь полный динамический диапазон из файла RAW в один документ с 16 битами на канал. Программное обеспечение Последняя версия библиотеки pano12 поддерживает 16 бит, так же, как и основные GUI-фронтенды. Если вы хотите использовать autopano, вам может понадобиться инструмент для пакетного преобразования изображений в 8-битные (например, IrfanView), поскольку в autopano в настоящее время есть баг, который вызывает сообщение об ошибке для некоторых типов 16-битных TIFF. Некоторые камеры (например, Nikon D70) сохраняют файл JPEG вместе с файлом RAW. Вы можете использовать этот файл JPEG для использования с autopano. После создания контрольных точек замените JPEG на его 16-битный вариант. Если вы хотите отредактировать результат многослойного сшивания, вам понадобится Adobe Photoshop CS или выше. В этом нет необходимости, если вы используете enblend для смешивания изображений. Съемка панорамы Использование цифровой камеры Чтобы получить максимальный динамический диапазон с помощью цифровой камеры, используйте экспозицию для самых ярких объектов, в которых вы хотите получить детали. В освещенном солнцем пейзаже это обычно облака, но также может быть и белое здание. Цифровые камеры отсекают света, но не тени. Проверьте гистограмму, чтобы увидеть, является ли отсечение проблемой. Хорошую статью о правильной экспозиции с цифровыми изображениями можно найти по адресу http://luminous-landscape.com/tutorials/expose-right.shtml. Съемка в формате RAW позволяет позже создавать из этих файлов 16-битные файлы TIFF с точно отрегулированными экспозицией и балансом белого или даже с другими настройками экспозиции и баланса белого, чтобы пересобрать изображения более благоприятным образом, например, с другим балансом белого для панорамных окон. В плагине Adobe RAW должна быть возможность найти такие настройки, чтобы извлечь хотя бы большую часть доступного динамического диапазона. Попробуйте найти такое значение экспозиции, которое не обрезает света сильнее, чем обрезала камера, и установите «Тени», «Яркость» и «Контрастность» на самые низкие значения. Это, вероятно, сохранит большую часть динамического диапазона. Если вы не используете Windows или Mac OS или просто хотите использовать инструмент командной строки, способный извлекать полный динамический диапазон, всегда есть dcraw. Использование пленки Съемка С цветной негативной пленкой используйте экспонирование для самой темной тени, в которой вы хотите получить детали. Рекомендуется штатив, так как время экспонирования может быть очень долгим, особенно при остановке. Я использую стандартную экспозицию 1/15s при f/16 на ярком солнечном свете с Fuji Reala. Цветная негативная пленка обрезает тени, но не света. Будет хорошей идеей сделать дополнительное изображение, содержащее какую-нибудь цветовую диаграмму или, по крайней мере, серую карту плюс белый лист бумаги и что-то полностью черное. Это поможет позже настроить баланс белого. Сканирование Избегайте клиппинга при сканировании. Отключите все автоматические функции в программном обеспечении для сканирования, которые влияют на баланс белого или экспозицию. Сохраняйте как 16-битный TIFF (иногда называемый 48-битным TIFF). Поэкспериментируйте со своим программным обеспечением для сканирования. С Vuescan используйте расширенный рабочий процесс (см. руководство). Установите цветовой баланс на «Нет» на вкладке «Цвет». Не беспокойтесь о том, что результат будет тусклым и с цветовым оттенком — в готовой сшитой панораме можно исправить все что угодно. Сохранить как «48-битный TIFF». Сшивка Если вы хотите использовать autopano, рекомендуется работать с 8-битными копиями ваших изображений для создания контрольных точек. autopano должен работать с 16-битными изображениями, но в настоящее время отказывается работать с некоторыми типами. Как только вы закончите с autopano, вы можете вернуться к 16-битным оригиналам. Старые версии PTGui автоматически деградировали изображения до 8 бит, если вы выбирали рамку обрезки за пределами изображения или использовали фильтр. Самые последние версии PTGui имеют собственный поиск контрольных точек и сшиватель, оба из которых очень хорошо работают с 16-битными изображениями. Если вы выберете сшиватель PTGui, вы можете установить битовую глубину 8 или 16 бит для выходных форматов, которые его поддерживают. Смешивание По сути, есть три1 возможных способа смешивания изображений: Позвольте panotools делать все, что угодно, выбрав любой формат вывода изображения, такой как TIFF, JPEG или PSD. Вывод нескольких файлов TIFF и их смешивание вручную в графическом редакторе с использованием слоев. 16-битные слои в настоящее время обрабатываются Adobe Photoshop, krita или GIMP. Использование enblend Использование SmartBlend Использование внутреннего блендера PTGui (только последние версии). Enblend enblend хорошо обрабатывает 16-битные изображения. Сделайте то, что вы делали и раньше, используя enblend, и вы получите смешанный 16-битный TIFF. Однако имейте в виду, что в изображение добавляется дополнительный альфа-канал. SmartBlend SmartBlend может работать с 16-битными изображениями, начиная с версии 1.2.2. Он работает точно так же, как enblend, с тем большим отличием, что он пытается удалить «призраков». Photoshop CS Импорт изображений В качестве вывода выберите TIFF с множественными изображениями как с растушевкой (TIFF_mask) так и без (TIFF_m). Используйте действие «Импортировать файлы TIFF с альфа-каналом в маскированные слои», которое можно загрузить с http://www.erik-krause.de/ttt, чтобы собрать отдельные изображения (обычно с именами ‹yourimage›0000.tif, ‹yourimage›0001.tif и т.д.) в многослойный документ Photoshop. Коррекция цветов Если вы ранее снимали серую карту, загрузите это изображение как отдельный файл и поместите корректирующий слой уровней выше. Используйте серую пипетку, чтобы получить нейтральные средние тона, но не используйте белую или черную пипетку, так как они могут вызвать клиппинг. Откройте информационную палитру. Установите точку выборки цвета (в среднем 5x5) для деталей черно-белого изображения и отрегулируйте входные точки белого и черного для цветовых каналов вручную, чтобы получить одинаковые значения цвета для всех каналов. Часто проверяйте значения RGB для черного, белого и серого образцов. Попытайтесь получить минимальное значение общего цвета для точки белого (не изменяя канал с наибольшим значением) и максимальное значение общего цвета для точки черного (не изменяя канал с наименьшим значением). Скорее всего, вам придется повторять эти шаги до тех пор, пока вы не получите нейтральные черный, белый и серый, так как любая корректировка влияет на остальные. Когда вы закончите, перетащите корректирующий слой из палитры слоев на панораму поверх всех остальных слоев. Если вы использовали серый клин, вы можете сделать еще более точную настройку, используя кривые вместо уровней и настраивая несколько оттенков серого, чтобы они были нейтральными. Если вы не снимали серую карту, просто поместите корректирующий слой уровней или кривых поверх слоев изображения и отрегулируйте цвета, чтобы они выглядели естественно. Используйте дополнительные корректирующие слои для настройки контрастности и/или яркости. Может быть хорошей идеей использовать S-образную кривую, чтобы увеличить контраст средних тонов. Сохраните документ перед сведением, чтобы иметь возможность исправить его без потери уровней. После этого отредактируйте маски отдельных слоев, чтобы избежать видимых швов, и, в конечном итоге, используйте дополнительные корректирующие слои, сгруппированные с отдельными слоями изображения, чтобы настроить различия в цвете или яркости. Если вы хотите, чтобы изображение выглядело более четким, сведите его к фону и используйте нерезкую маску с порогом 0, размером от 20% до 50% и радиусом от 70 до 250 пикселей (в зависимости от размера изображения). Перед этим шагом рекомендуется уменьшить размер вывода до предполагаемого, так как это очень медленно работает с большими изображениями. Если в тенях все еще скрыто много деталей или вас не устраивает контрастность, вы можете попробовать более сложные операторы отображения тонов, например, один из тех, которые сравниваются при сжатии HDR, которые также работают с 16-битными изображениями. Исправления Извлечение видов Извлечение видов2 для «заклеивания» штатива, каких-то дыр или несоответствий в зените и проч., — может составлять некоторую проблему, если вы хотите все делать в чистом 16-битном формате. Самая удобная возможность — PTEditor — читает 16-битные TIFF, но записывает только 8-битные. Единственная возможность выполнить задачу в 16-битной версии — это либо использовать PTStitcher (с одним из GUI-интерфейсов или со сценарием), либо совместимые с Photoshop плагины Panorama Tools в 16-битной версии, предоставленные Томасом Ниманном. Различные возможности описаны в разделе «Извлечение и вставка прямолинейных видов». Вставка «колпачков штатива» Еще один способ закрыть штатив — вставить какое-нибудь другое изображение, например, логотип или зеркальный шар. Это не должно быть проблемой для 16-битной версии, если это делается либо с помощью 16-битных плагинов (как упоминалось выше), либо с помощью PTStitcher. Многие возможности описаны в дополнительных материалах. В оригинале так и написано: «there are three possible ways…» — прим. перев. &#8617; Тут есть проблемы с терминологией, «вид» («view») очень уж общее понятие. Речь идет о кусках изображения, которые с одной стороны являются сплошными кусками, с другой — не соответствуют ни исходным кадрам, ни даже их фрагментам, поскольку могут состоять из разных частей разных исходных кадров, к тому же с учетом слияния разных экспозиций и т.д. — прим. перев. &#8617;" />
<link rel="canonical" href="https://hugin.shikhalev.org/tr/tutorials/full_16_bit_workflow.html" />
<meta property="og:url" content="https://hugin.shikhalev.org/tr/tutorials/full_16_bit_workflow.html" />
<meta property="og:site_name" content="Hugin по-русски" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-01T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Полностью 16-битный процесс" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Иван Шихалев"},"dateModified":"2022-11-22T00:00:00+00:00","datePublished":"2022-01-01T00:00:00+00:00","description":"Одной из самых больших проблем при создании панорам является динамический диапазон. Чтобы сохранить как максимальное количество уровней, так и максимальный динамический диапазон, рекомендуется использовать 16-битный рабочий процесс. 16 бит здесь относится к разрядности одного канала. Однако в некоторых приложениях и руководствах используется термин «48 бит» или «64 бит», который относится к полной битовой глубине для всех каналов и по существу означает то же самое. Требования Это руководство предназначено только для опытных пользователей. Предполагается, что вы знакомы со съемкой, сшиванием, смешиванием 8-битных изображений, а также с базовыми и расширенными методами редактирования в Photoshop, такими как использование слоев изображения, корректирующих слоев и масок. Источник изображения Чтобы использовать 16-битный рабочий процесс, вам нужна камера, способная сохранять файлы RAW, или сканер плюс приложение, позволяющие сохранять 16-битные файлы. См. «Извлечение динамического диапазона RAW», чтобы узнать, как извлечь полный динамический диапазон из файла RAW в один документ с 16 битами на канал. Программное обеспечение Последняя версия библиотеки pano12 поддерживает 16 бит, так же, как и основные GUI-фронтенды. Если вы хотите использовать autopano, вам может понадобиться инструмент для пакетного преобразования изображений в 8-битные (например, IrfanView), поскольку в autopano в настоящее время есть баг, который вызывает сообщение об ошибке для некоторых типов 16-битных TIFF. Некоторые камеры (например, Nikon D70) сохраняют файл JPEG вместе с файлом RAW. Вы можете использовать этот файл JPEG для использования с autopano. После создания контрольных точек замените JPEG на его 16-битный вариант. Если вы хотите отредактировать результат многослойного сшивания, вам понадобится Adobe Photoshop CS или выше. В этом нет необходимости, если вы используете enblend для смешивания изображений. Съемка панорамы Использование цифровой камеры Чтобы получить максимальный динамический диапазон с помощью цифровой камеры, используйте экспозицию для самых ярких объектов, в которых вы хотите получить детали. В освещенном солнцем пейзаже это обычно облака, но также может быть и белое здание. Цифровые камеры отсекают света, но не тени. Проверьте гистограмму, чтобы увидеть, является ли отсечение проблемой. Хорошую статью о правильной экспозиции с цифровыми изображениями можно найти по адресу http://luminous-landscape.com/tutorials/expose-right.shtml. Съемка в формате RAW позволяет позже создавать из этих файлов 16-битные файлы TIFF с точно отрегулированными экспозицией и балансом белого или даже с другими настройками экспозиции и баланса белого, чтобы пересобрать изображения более благоприятным образом, например, с другим балансом белого для панорамных окон. В плагине Adobe RAW должна быть возможность найти такие настройки, чтобы извлечь хотя бы большую часть доступного динамического диапазона. Попробуйте найти такое значение экспозиции, которое не обрезает света сильнее, чем обрезала камера, и установите «Тени», «Яркость» и «Контрастность» на самые низкие значения. Это, вероятно, сохранит большую часть динамического диапазона. Если вы не используете Windows или Mac OS или просто хотите использовать инструмент командной строки, способный извлекать полный динамический диапазон, всегда есть dcraw. Использование пленки Съемка С цветной негативной пленкой используйте экспонирование для самой темной тени, в которой вы хотите получить детали. Рекомендуется штатив, так как время экспонирования может быть очень долгим, особенно при остановке. Я использую стандартную экспозицию 1/15s при f/16 на ярком солнечном свете с Fuji Reala. Цветная негативная пленка обрезает тени, но не света. Будет хорошей идеей сделать дополнительное изображение, содержащее какую-нибудь цветовую диаграмму или, по крайней мере, серую карту плюс белый лист бумаги и что-то полностью черное. Это поможет позже настроить баланс белого. Сканирование Избегайте клиппинга при сканировании. Отключите все автоматические функции в программном обеспечении для сканирования, которые влияют на баланс белого или экспозицию. Сохраняйте как 16-битный TIFF (иногда называемый 48-битным TIFF). Поэкспериментируйте со своим программным обеспечением для сканирования. С Vuescan используйте расширенный рабочий процесс (см. руководство). Установите цветовой баланс на «Нет» на вкладке «Цвет». Не беспокойтесь о том, что результат будет тусклым и с цветовым оттенком — в готовой сшитой панораме можно исправить все что угодно. Сохранить как «48-битный TIFF». Сшивка Если вы хотите использовать autopano, рекомендуется работать с 8-битными копиями ваших изображений для создания контрольных точек. autopano должен работать с 16-битными изображениями, но в настоящее время отказывается работать с некоторыми типами. Как только вы закончите с autopano, вы можете вернуться к 16-битным оригиналам. Старые версии PTGui автоматически деградировали изображения до 8 бит, если вы выбирали рамку обрезки за пределами изображения или использовали фильтр. Самые последние версии PTGui имеют собственный поиск контрольных точек и сшиватель, оба из которых очень хорошо работают с 16-битными изображениями. Если вы выберете сшиватель PTGui, вы можете установить битовую глубину 8 или 16 бит для выходных форматов, которые его поддерживают. Смешивание По сути, есть три1 возможных способа смешивания изображений: Позвольте panotools делать все, что угодно, выбрав любой формат вывода изображения, такой как TIFF, JPEG или PSD. Вывод нескольких файлов TIFF и их смешивание вручную в графическом редакторе с использованием слоев. 16-битные слои в настоящее время обрабатываются Adobe Photoshop, krita или GIMP. Использование enblend Использование SmartBlend Использование внутреннего блендера PTGui (только последние версии). Enblend enblend хорошо обрабатывает 16-битные изображения. Сделайте то, что вы делали и раньше, используя enblend, и вы получите смешанный 16-битный TIFF. Однако имейте в виду, что в изображение добавляется дополнительный альфа-канал. SmartBlend SmartBlend может работать с 16-битными изображениями, начиная с версии 1.2.2. Он работает точно так же, как enblend, с тем большим отличием, что он пытается удалить «призраков». Photoshop CS Импорт изображений В качестве вывода выберите TIFF с множественными изображениями как с растушевкой (TIFF_mask) так и без (TIFF_m). Используйте действие «Импортировать файлы TIFF с альфа-каналом в маскированные слои», которое можно загрузить с http://www.erik-krause.de/ttt, чтобы собрать отдельные изображения (обычно с именами ‹yourimage›0000.tif, ‹yourimage›0001.tif и т.д.) в многослойный документ Photoshop. Коррекция цветов Если вы ранее снимали серую карту, загрузите это изображение как отдельный файл и поместите корректирующий слой уровней выше. Используйте серую пипетку, чтобы получить нейтральные средние тона, но не используйте белую или черную пипетку, так как они могут вызвать клиппинг. Откройте информационную палитру. Установите точку выборки цвета (в среднем 5x5) для деталей черно-белого изображения и отрегулируйте входные точки белого и черного для цветовых каналов вручную, чтобы получить одинаковые значения цвета для всех каналов. Часто проверяйте значения RGB для черного, белого и серого образцов. Попытайтесь получить минимальное значение общего цвета для точки белого (не изменяя канал с наибольшим значением) и максимальное значение общего цвета для точки черного (не изменяя канал с наименьшим значением). Скорее всего, вам придется повторять эти шаги до тех пор, пока вы не получите нейтральные черный, белый и серый, так как любая корректировка влияет на остальные. Когда вы закончите, перетащите корректирующий слой из палитры слоев на панораму поверх всех остальных слоев. Если вы использовали серый клин, вы можете сделать еще более точную настройку, используя кривые вместо уровней и настраивая несколько оттенков серого, чтобы они были нейтральными. Если вы не снимали серую карту, просто поместите корректирующий слой уровней или кривых поверх слоев изображения и отрегулируйте цвета, чтобы они выглядели естественно. Используйте дополнительные корректирующие слои для настройки контрастности и/или яркости. Может быть хорошей идеей использовать S-образную кривую, чтобы увеличить контраст средних тонов. Сохраните документ перед сведением, чтобы иметь возможность исправить его без потери уровней. После этого отредактируйте маски отдельных слоев, чтобы избежать видимых швов, и, в конечном итоге, используйте дополнительные корректирующие слои, сгруппированные с отдельными слоями изображения, чтобы настроить различия в цвете или яркости. Если вы хотите, чтобы изображение выглядело более четким, сведите его к фону и используйте нерезкую маску с порогом 0, размером от 20% до 50% и радиусом от 70 до 250 пикселей (в зависимости от размера изображения). Перед этим шагом рекомендуется уменьшить размер вывода до предполагаемого, так как это очень медленно работает с большими изображениями. Если в тенях все еще скрыто много деталей или вас не устраивает контрастность, вы можете попробовать более сложные операторы отображения тонов, например, один из тех, которые сравниваются при сжатии HDR, которые также работают с 16-битными изображениями. Исправления Извлечение видов Извлечение видов2 для «заклеивания» штатива, каких-то дыр или несоответствий в зените и проч., — может составлять некоторую проблему, если вы хотите все делать в чистом 16-битном формате. Самая удобная возможность — PTEditor — читает 16-битные TIFF, но записывает только 8-битные. Единственная возможность выполнить задачу в 16-битной версии — это либо использовать PTStitcher (с одним из GUI-интерфейсов или со сценарием), либо совместимые с Photoshop плагины Panorama Tools в 16-битной версии, предоставленные Томасом Ниманном. Различные возможности описаны в разделе «Извлечение и вставка прямолинейных видов». Вставка «колпачков штатива» Еще один способ закрыть штатив — вставить какое-нибудь другое изображение, например, логотип или зеркальный шар. Это не должно быть проблемой для 16-битной версии, если это делается либо с помощью 16-битных плагинов (как упоминалось выше), либо с помощью PTStitcher. Многие возможности описаны в дополнительных материалах. В оригинале так и написано: «there are three possible ways…» — прим. перев. &#8617; Тут есть проблемы с терминологией, «вид» («view») очень уж общее понятие. Речь идет о кусках изображения, которые с одной стороны являются сплошными кусками, с другой — не соответствуют ни исходным кадрам, ни даже их фрагментам, поскольку могут состоять из разных частей разных исходных кадров, к тому же с учетом слияния разных экспозиций и т.д. — прим. перев. &#8617;","headline":"Полностью 16-битный процесс","mainEntityOfPage":{"@type":"WebPage","@id":"https://hugin.shikhalev.org/tr/tutorials/full_16_bit_workflow.html"},"url":"https://hugin.shikhalev.org/tr/tutorials/full_16_bit_workflow.html"}</script>
<!-- End Jekyll SEO tag -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JBR18FLSCW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JBR18FLSCW');
</script>


    <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://cdn.jsdelivr.net/npm/yandex-metrica-watch/tag.js", "ym");

   ym(91267624, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/91267624" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter --></head>

<body>

<div id="global-box">

<div id="watermark-container">
  <div id="watermark">shikhalev.org</div>
</div>

<div id="grid">

<header id="site-header"><p class="logo"><a href="/">Hugin по-русски</a></p></header>

<nav id="navy"><div class="wrapper">
  <input type="checkbox" id="navy-check">
  <label for="navy-check">
    <span id="menu-icon" class="fas">&#xf0c9;</span>
  </label>
  <div id="navy-menu"><a class="navy-item fa-icon-book-open" href="/guide/">Руководство</a><a class="navy-item fa-icon-language" href="/tr/">Перевод</a><a class="navy-item fa-icon-id-card" href="/about/">О проекте</a></div>
</div></nav>

<main id="main"><aside class="categories">
  <a class="fa-icon-home" href="/" title="Главная страница сайта"></a>​<a class="fa-icon-language" href="/tr/" title="Перевод">Перевод</a>​<a class="fa-icon-folder-open-black" href="/tr/tutorials/" title="Руководства">Руководства</a></aside>
<article class="layout-page"><header class="page-header"><h1 class="title-page" itemprop="name headline">Полностью 16-битный процесс</h1><aside class="share">
  <a class="fab" target="_blank" title="Поделиться во ВКонтакте" href="https://vk.com/share.php?url=https%3A%2F%2Fhugin.shikhalev.org%2Ftr%2Ftutorials%2Ffull_16_bit_workflow.html">&#xf189;</a>
  <a class="fab" target="_blank" title="Поделиться в Фейсбуке" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fhugin.shikhalev.org%2Ftr%2Ftutorials%2Ffull_16_bit_workflow.html">&#xf39e;</a>
  <a class="fab" target="_blank" title="Поделиться в Телеграме" href="https://t.me/share/url?url=https%3A%2F%2Fhugin.shikhalev.org%2Ftr%2Ftutorials%2Ffull_16_bit_workflow.html">&#xf3fe;</a>
  <a class="fab" target="_blank" title="Поделиться в Твиттере" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fhugin.shikhalev.org%2Ftr%2Ftutorials%2Ffull_16_bit_workflow.html&text=%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D1%81%D1%82%D1%8C%D1%8E+16-%D0%B1%D0%B8%D1%82%D0%BD%D1%8B%D0%B9+%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81">&#xf099;</a>
  <a class="fab" target="_blank" title="Сохранить ссылку в Evernote" href="https://www.evernote.com/clip.action?title=%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D1%81%D1%82%D1%8C%D1%8E+16-%D0%B1%D0%B8%D1%82%D0%BD%D1%8B%D0%B9+%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81&url=https%3A%2F%2Fhugin.shikhalev.org%2Ftr%2Ftutorials%2Ffull_16_bit_workflow.html">&#xf839;</a>
</aside>
</header><p class="meta">Источник: <a href="https://wiki.panotools.org/Full_16_bit_workflow">https://wiki.panotools.org/Full​_16​_bit​_workflow</a></p><hr style="clear: both;">






<p>Одной из самых больших проблем при создании панорам является <a href="/tr/glossary/dynamic_range.html">динамический диапазон</a>. Чтобы сохранить
как максимальное количество уровней, так и максимальный динамический диапазон, рекомендуется использовать 16-битный
рабочий процесс. 16 бит здесь относится к разрядности одного канала. Однако в некоторых приложениях и руководствах
используется термин «48 бит» или «64 бит», который относится к полной битовой глубине для всех каналов и по существу
означает то же самое.</p>

<h2 id="требования">
<a class="anchor" href="#%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>Требования</h2>

<p>Это руководство предназначено только для опытных пользователей. Предполагается, что вы знакомы со съемкой, сшиванием,
смешиванием 8-битных изображений, а также с базовыми и расширенными методами редактирования в Photoshop, такими как
использование слоев изображения, корректирующих слоев и масок.</p>

<h3 id="источник-изображения">
<a class="anchor" href="#%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>Источник изображения</h3>

<p>Чтобы использовать 16-битный рабочий процесс, вам нужна камера, способная сохранять файлы <a href="/tr/glossary/raw.html">RAW</a>, или сканер плюс
приложение, позволяющие сохранять 16-битные файлы. См. <a href="/tr/tutorials/raw_dynamic_range_extraction.html">«Извлечение динамического диапазона RAW»</a>, чтобы
узнать, как извлечь полный динамический диапазон из файла RAW в один документ с 16 битами на канал.</p>

<h3 id="программное-обеспечение">
<a class="anchor" href="#%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%B5-%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D0%B5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Программное обеспечение</h3>

<p>Последняя версия библиотеки <a href="/tr/panotools/pano12.html"><code class="language-plaintext highlighter-rouge">pano12</code></a> поддерживает 16 бит, так же, как и основные <a href="/tr/panotools/gui_frontends.html">GUI-фронтенды</a>.
Если вы хотите использовать <a href="/tr/tools/autopano.html"><code class="language-plaintext highlighter-rouge">autopano</code></a>, вам может понадобиться инструмент для пакетного преобразования изображений
в 8-битные (например, IrfanView), поскольку в <code class="language-plaintext highlighter-rouge">autopano</code> в настоящее время есть баг, который вызывает сообщение об ошибке
для некоторых типов 16-битных <a href="/tr/glossary/tiff.html">TIFF</a>. Некоторые камеры (например, Nikon D70) сохраняют файл <a href="/tr/glossary/jpeg.html">JPEG</a> вместе с файлом RAW.
Вы можете использовать этот файл JPEG для использования с <code class="language-plaintext highlighter-rouge">autopano</code>. После создания контрольных точек замените JPEG
на его 16-битный вариант.</p>

<p>Если вы хотите отредактировать результат многослойного сшивания, вам понадобится Adobe <a href="/tr/glossary/photoshop.html">Photoshop</a> CS или выше.
В этом нет необходимости, если вы используете <a href="/tr/tools/enblend.html"><code class="language-plaintext highlighter-rouge">enblend</code></a> для смешивания изображений.</p>

<h2 id="съемка-панорамы">
<a class="anchor" href="#%D1%81%D1%8A%D0%B5%D0%BC%D0%BA%D0%B0-%D0%BF%D0%B0%D0%BD%D0%BE%D1%80%D0%B0%D0%BC%D1%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>Съемка панорамы</h2>

<h3 id="использование-цифровой-камеры">
<a class="anchor" href="#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D1%86%D0%B8%D1%84%D1%80%D0%BE%D0%B2%D0%BE%D0%B9-%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D1%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>Использование цифровой камеры</h3>

<p>Чтобы получить максимальный <a href="/tr/glossary/dynamic_range.html">динамический диапазон</a> с помощью цифровой камеры, используйте экспозицию для самых
ярких объектов, в которых вы хотите получить детали. В освещенном солнцем пейзаже это обычно облака, но также может быть и белое
здание. Цифровые камеры отсекают света, но не тени. Проверьте гистограмму, чтобы увидеть, является ли отсечение проблемой.
Хорошую статью о правильной экспозиции с цифровыми изображениями можно найти
по адресу <a href="http://luminous-landscape.com/tutorials/expose-right.shtml">http://luminous-landscape.com/tutorials/expose-right.shtml</a>.</p>

<p>Съемка в формате <a href="/tr/glossary/raw.html">RAW</a> позволяет позже создавать из этих файлов 16-битные файлы <a href="/tr/glossary/tiff.html">TIFF</a> с точно отрегулированными
экспозицией и балансом белого или даже с другими настройками экспозиции и баланса белого, чтобы пересобрать изображения более
благоприятным образом, например, с другим балансом белого для панорамных окон.</p>

<p>В плагине Adobe RAW должна быть возможность найти такие настройки, чтобы извлечь хотя бы большую часть доступного
<a href="/tr/glossary/dynamic_range.html">динамического диапазона</a>. Попробуйте найти такое значение экспозиции, которое не обрезает света сильнее, чем
обрезала камера, и установите «Тени», «Яркость» и «Контрастность» на самые низкие значения. Это, вероятно, сохранит большую
часть динамического диапазона.</p>

<p>Если вы не используете Windows или Mac OS или просто хотите использовать инструмент командной строки, способный извлекать
полный динамический диапазон, всегда есть <a href="/tr/tools/dcraw.html"><code class="language-plaintext highlighter-rouge">dcraw</code></a>.</p>

<h3 id="использование-пленки">
<a class="anchor" href="#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BB%D0%B5%D0%BD%D0%BA%D0%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Использование пленки</h3>

<h4 id="съемка">
<a class="anchor" href="#%D1%81%D1%8A%D0%B5%D0%BC%D0%BA%D0%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Съемка</h4>

<p>С цветной негативной пленкой используйте экспонирование для самой темной тени, в которой вы хотите получить детали.
Рекомендуется штатив, так как время экспонирования может быть очень долгим, особенно при остановке. Я использую стандартную
экспозицию 1/15s при f/16 на ярком солнечном свете с Fuji Reala. Цветная негативная пленка обрезает тени, но не света. Будет
хорошей идеей сделать дополнительное изображение, содержащее какую-нибудь цветовую диаграмму или, по крайней мере, серую карту
плюс белый лист бумаги и что-то полностью черное. Это поможет позже настроить баланс белого.</p>

<h4 id="сканирование">
<a class="anchor" href="#%D1%81%D0%BA%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Сканирование</h4>

<p>Избегайте клиппинга при сканировании. Отключите все автоматические функции в программном обеспечении для сканирования, которые
влияют на баланс белого или экспозицию. Сохраняйте как 16-битный <a href="/tr/glossary/tiff.html">TIFF</a> (иногда называемый 48-битным <a href="/tr/glossary/tiff.html">TIFF</a>).
Поэкспериментируйте со своим программным обеспечением для сканирования.</p>

<p>С Vuescan используйте расширенный рабочий процесс (см. руководство). Установите цветовой баланс на «Нет» на вкладке «Цвет».
Не беспокойтесь о том, что результат будет тусклым и с цветовым оттенком — в готовой сшитой панораме можно исправить все что угодно.
Сохранить как «48-битный <a href="/tr/glossary/tiff.html">TIFF</a>».</p>

<h2 id="сшивка">
<a class="anchor" href="#%D1%81%D1%88%D0%B8%D0%B2%D0%BA%D0%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Сшивка</h2>

<p>Если вы хотите использовать <a href="/tr/tools/autopano.html"><code class="language-plaintext highlighter-rouge">autopano</code></a>, рекомендуется работать с 8-битными копиями ваших изображений для создания
контрольных точек. <code class="language-plaintext highlighter-rouge">autopano</code> должен работать с 16-битными изображениями, но в настоящее время отказывается работать с некоторыми
типами. Как только вы закончите с <code class="language-plaintext highlighter-rouge">autopano</code>, вы можете вернуться к 16-битным оригиналам.</p>

<p>Старые версии <a href="/tr/panotools/ptgui.html">PTGui</a> автоматически деградировали изображения до 8 бит, если вы выбирали рамку обрезки за пределами
изображения или использовали фильтр.</p>

<p>Самые последние версии PTGui имеют собственный поиск контрольных точек и сшиватель, оба из которых очень хорошо работают
с 16-битными изображениями. Если вы выберете сшиватель PTGui, вы можете установить битовую глубину 8 или 16 бит для выходных
форматов, которые его поддерживают.</p>

<h2 id="смешивание">
<a class="anchor" href="#%D1%81%D0%BC%D0%B5%D1%88%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Смешивание</h2>

<p>По сути, есть три<sup id="fnref:three" role="doc-noteref"><a href="#fn:three" class="footnote" rel="footnote">1</a></sup> возможных способа смешивания изображений:</p>

<ul>
  <li>Позвольте panotools делать все, что угодно, выбрав любой формат вывода изображения, такой как <a href="/tr/glossary/tiff.html">TIFF</a>, <a href="/tr/glossary/jpeg.html">JPEG</a> или <a href="/tr/glossary/psd.html">PSD</a>.</li>
  <li>Вывод нескольких файлов <a href="/tr/glossary/tiff.html">TIFF</a> и их смешивание вручную в графическом редакторе с использованием слоев.
16-битные слои в настоящее время обрабатываются Adobe <a href="/tr/glossary/photoshop.html">Photoshop</a>, <a href="/tr/glossary/krita.html">krita</a> или <a href="/tr/glossary/gimp.html">GIMP</a>.</li>
  <li>Использование <a href="/tr/tools/enblend.html"><code class="language-plaintext highlighter-rouge">enblend</code></a>
</li>
  <li>Использование <a href="/tr/panotools/smartblend.html">SmartBlend</a>
</li>
  <li>Использование внутреннего блендера <a href="/tr/panotools/ptgui.html">PTGui</a> (только последние версии).</li>
</ul>

<h3 id="enblend">
<a class="anchor" href="#enblend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enblend</h3>

<p><a href="/tr/tools/enblend.html"><code class="language-plaintext highlighter-rouge">enblend</code></a> хорошо обрабатывает 16-битные изображения. Сделайте то, что вы делали и раньше, используя <code class="language-plaintext highlighter-rouge">enblend</code>,
и вы получите смешанный 16-битный <a href="/tr/glossary/tiff.html">TIFF</a>. Однако имейте в виду, что в изображение добавляется дополнительный <a href="/tr/glossary/alpha_channel.html">альфа-канал</a>.</p>

<h3 id="smartblend">
<a class="anchor" href="#smartblend" aria-hidden="true"><span class="octicon octicon-link"></span></a>SmartBlend</h3>

<p><a href="/tr/panotools/smartblend.html">SmartBlend</a> может работать с 16-битными изображениями, начиная с версии 1.2.2. Он работает точно так же, как <code class="language-plaintext highlighter-rouge">enblend</code>,
с тем большим отличием, что он пытается удалить <a href="/tr/glossary/ghosting.html">«призраков»</a>.</p>

<h3 id="photoshop-cs">
<a class="anchor" href="#photoshop-cs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Photoshop CS</h3>

<h4 id="импорт-изображений">
<a class="anchor" href="#%D0%B8%D0%BC%D0%BF%D0%BE%D1%80%D1%82-%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Импорт изображений</h4>

<p>В качестве вывода выберите <a href="/tr/glossary/tiff.html">TIFF</a> с множественными изображениями как с растушевкой (TIFF_mask) так и без (TIFF_m). Используйте действие
«Импортировать файлы TIFF с <a href="/tr/glossary/alpha_channel.html">альфа-каналом</a> в маскированные слои», которое можно загрузить с <a href="http://www.erik-krause.de/ttt">http://www.erik-krause.de/ttt</a>,
чтобы собрать отдельные изображения (обычно с именами <code class="language-plaintext highlighter-rouge">‹yourimage›0000.tif</code>, <code class="language-plaintext highlighter-rouge">‹yourimage›0001.tif</code> и т.д.) в многослойный документ Photoshop.</p>

<h4 id="коррекция-цветов">
<a class="anchor" href="#%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-%D1%86%D0%B2%D0%B5%D1%82%D0%BE%D0%B2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Коррекция цветов</h4>

<p>Если вы ранее снимали серую карту, загрузите это изображение как отдельный файл и поместите корректирующий слой уровней выше.
Используйте серую пипетку, чтобы получить нейтральные средние тона, но не используйте белую или черную пипетку, так как они
могут вызвать клиппинг.</p>

<p>Откройте информационную палитру. Установите точку выборки цвета (в среднем 5x5) для деталей черно-белого изображения и отрегулируйте
входные точки белого и черного для цветовых каналов вручную, чтобы получить одинаковые значения цвета для всех каналов. Часто
проверяйте значения RGB для черного, белого и серого образцов.</p>

<p>Попытайтесь получить минимальное значение общего цвета для точки белого (не изменяя канал с наибольшим значением) и максимальное
значение общего цвета для точки черного (не изменяя канал с наименьшим значением). Скорее всего, вам придется повторять эти шаги
до тех пор, пока вы не получите нейтральные черный, белый и серый, так как любая корректировка влияет на остальные.</p>

<p>Когда вы закончите, перетащите корректирующий слой из палитры слоев на панораму поверх всех остальных слоев. Если вы использовали
серый клин, вы можете сделать еще более точную настройку, используя кривые вместо уровней и настраивая несколько оттенков серого,
чтобы они были нейтральными.</p>

<p>Если вы не снимали серую карту, просто поместите корректирующий слой уровней или кривых поверх слоев изображения и отрегулируйте
цвета, чтобы они выглядели естественно.</p>

<p>Используйте дополнительные корректирующие слои для настройки контрастности и/или яркости. Может быть хорошей идеей использовать
S-образную кривую, чтобы увеличить контраст средних тонов. Сохраните документ перед сведением, чтобы иметь возможность исправить
его без потери уровней.</p>

<p>После этого отредактируйте маски отдельных слоев, чтобы избежать видимых швов, и, в конечном итоге, используйте дополнительные
корректирующие слои, сгруппированные с отдельными слоями изображения, чтобы настроить различия в цвете или яркости.</p>

<p>Если вы хотите, чтобы изображение выглядело более четким, сведите его к фону и используйте <a href="/tr/glossary/sharpening.html">нерезкую маску</a> с порогом 0,
размером от 20% до 50% и радиусом от 70 до 250 пикселей (в зависимости от размера изображения). Перед этим шагом рекомендуется уменьшить
размер вывода до предполагаемого, так как это очень медленно работает с большими изображениями.</p>

<p>Если в тенях все еще скрыто много деталей или вас не устраивает контрастность, вы можете попробовать более сложные операторы
<a href="/tr/glossary/tone_mapping.html">отображения тонов</a>, например, один из тех, которые сравниваются при <a href="/tr/glossary/hdr_compression.html">сжатии HDR</a>, которые также работают
с 16-битными изображениями.</p>

<h2 id="исправления">
<a class="anchor" href="#%D0%B8%D1%81%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>Исправления</h2>

<h3 id="извлечение-видов">
<a class="anchor" href="#%D0%B8%D0%B7%D0%B2%D0%BB%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2%D0%B8%D0%B4%D0%BE%D0%B2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Извлечение видов</h3>

<p>Извлечение видов<sup id="fnref:view" role="doc-noteref"><a href="#fn:view" class="footnote" rel="footnote">2</a></sup> для «заклеивания» штатива, каких-то дыр или несоответствий в зените и проч., — может составлять некоторую проблему,
если вы хотите все делать в чистом 16-битном формате. Самая удобная возможность — <a href="/tr/panotools/pteditor.html">PTEditor</a> — читает 16-битные <a href="/tr/glossary/tiff.html">TIFF</a>,
но записывает только 8-битные.</p>

<p>Единственная возможность выполнить задачу в 16-битной версии — это либо использовать <a href="/tr/panotools/ptstitcher.html">PTStitcher</a> (с одним
из <a href="/tr/panotools/gui_frontends.html">GUI-интерфейсов</a> или со сценарием), либо совместимые с <a href="/tr/glossary/photoshop.html">Photoshop</a> <a href="/tr/panotools/plugins.html">плагины Panorama Tools</a>
в 16-битной версии, предоставленные <a href="http://epaperpress.com/ptplugins/index.html">Томасом Ниманном</a>.</p>

<p>Различные возможности описаны в разделе <a href="/tr/tutorials/extract_and_insert_rectilinear_views.html">«Извлечение и вставка прямолинейных видов»</a>.</p>

<h3 id="вставка-колпачков-штатива">
<a class="anchor" href="#%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0-%D0%BA%D0%BE%D0%BB%D0%BF%D0%B0%D1%87%D0%BA%D0%BE%D0%B2-%D1%88%D1%82%D0%B0%D1%82%D0%B8%D0%B2%D0%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Вставка «колпачков штатива»</h3>

<p>Еще один способ закрыть штатив — вставить какое-нибудь другое изображение, например, логотип или зеркальный шар.
Это не должно быть проблемой для 16-битной версии, если это делается либо с помощью 16-битных плагинов (как упоминалось выше),
либо с помощью <a href="/tr/panotools/ptstitcher.html">PTStitcher</a>. Многие возможности описаны в <a href="/tr/tutorials/#tripod_caps">дополнительных материалах</a>.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:three" role="doc-endnote">
      <p>В оригинале так и написано: «there are three possible ways…» — <em>прим. перев.</em> <a href="#fnref:three" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:view" role="doc-endnote">
      <p>Тут есть проблемы с терминологией, «вид» («view») очень уж общее понятие. Речь идет о кусках изображения, которые с одной стороны являются сплошными кусками, с другой — не соответствуют ни исходным кадрам, ни даже их фрагментам, поскольку могут состоять из разных частей разных исходных кадров, к тому же с учетом слияния разных экспозиций и т.д. — <em>прим. перев.</em> <a href="#fnref:view" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>


<hr style="clear: both;">

<script src="https://giscus.app/client.js" data-repo="shikhalev/hugin_doc_ru" data-repo-id="MDEwOlJlcG9zaXRvcnkyNTkyMTM5NjU=" data-category="General" data-category-id="DIC_kwDOD3NKjc4B_XvC" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="ru" data-loading="lazy" crossorigin="anonymous" async>
</script>

</article>

</main><aside id="search">
<script async src="https://cse.google.com/cse.js?cx=b2790c4aaf6b24d8c"></script>
<div class="gcse-search"></div>

</aside><aside id="toc" class="toc toc-page">
  <h4>Содержание</h4>
  <ul id="toc_list" class="section-nav">
<li class="toc-entry toc-h2"><a href="#требования">Требования</a>
<ul>
<li class="toc-entry toc-h3"><a href="#источник-изображения">Источник изображения</a></li>
<li class="toc-entry toc-h3"><a href="#программное-обеспечение">Программное обеспечение</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#съемка-панорамы">Съемка панорамы</a>
<ul>
<li class="toc-entry toc-h3"><a href="#использование-цифровой-камеры">Использование цифровой камеры</a></li>
<li class="toc-entry toc-h3"><a href="#использование-пленки">Использование пленки</a>
<ul>
<li class="toc-entry toc-h4"><a href="#съемка">Съемка</a></li>
<li class="toc-entry toc-h4"><a href="#сканирование">Сканирование</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#сшивка">Сшивка</a></li>
<li class="toc-entry toc-h2"><a href="#смешивание">Смешивание</a>
<ul>
<li class="toc-entry toc-h3"><a href="#enblend">Enblend</a></li>
<li class="toc-entry toc-h3"><a href="#smartblend">SmartBlend</a></li>
<li class="toc-entry toc-h3"><a href="#photoshop-cs">Photoshop CS</a>
<ul>
<li class="toc-entry toc-h4"><a href="#импорт-изображений">Импорт изображений</a></li>
<li class="toc-entry toc-h4"><a href="#коррекция-цветов">Коррекция цветов</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#исправления">Исправления</a>
<ul>
<li class="toc-entry toc-h3"><a href="#извлечение-видов">Извлечение видов</a></li>
<li class="toc-entry toc-h3"><a href="#вставка-колпачков-штатива">Вставка «колпачков штатива»</a></li>
</ul>
</li>
</ul>
</aside><aside class="backlinks" id="backs"><h4>Ссылки сюда</h4><ul><li class="fa-icon-li-file-alt"><a href="/2022/11/29/start.html" title="Уже переведено">Уже переведено</a></li><li class="fa-icon-li-file"><a href="/tr/glossary/bracketing.html" title="Брекетинг">Брекетинг</a></li><li class="fa-icon-li-file"><a href="/tr/glossary/dynamic_range.html" title="Динамический диапазон">Динамический диапазон</a></li></ul>
    </aside><aside id="donate" style="visibility:hidden;height:0px;width:0px;margin:0px;padding:0px;"></aside><!-- скрываем через style, чтоб не менять макет полностью -->
<aside id="ga" style="visibility:hidden;height:0px;width:0px;margin:0px;padding:0px;"></aside><aside id="feeds" style="visibility:hidden;height:0px;width:0px;margin:0px;padding:0px;"></aside><aside id="contacts"><h4>Обратная связь</h4>

<ul>
  <li class="fa-icon-li-github">
    <a href="https://github.com/shikhalev/hugin_doc_ru" style="font-weight: bold;">shikhalev/hugin_doc_ru</a>
    <ul>
      <li class="fa-icon-li-comments"><a href="https://github.com/shikhalev/hugin_doc_ru/discussions">Обсуждения</a></li>
      <li class="fa-icon-li-comment-dots"><a href="https://github.com/shikhalev/hugin_doc_ru/issues">Проблемы и задачи</a></li>
    </ul>
  </li>
  <li class="fa-icon-li-envelope">
    <a href="mailto:hugin-doc-ru@shikhalev.org">hugin-doc-ru@shikhalev.org</a>
  </li>
  <li class="fa-icon-li-home">
    <a href="https://shikhalev.org/" style="font-weight: bold;">https://shikhalev.org/</a>
  </li>
</ul>
</aside><aside id="sidebar" style="border:none;box-shadow:none;"></aside><footer id="site-footer"><!-- Yandex.Metrika informer -->
<a href="https://metrika.yandex.ru/stat/?id=91267624&amp;from=informer"
target="_blank" rel="nofollow"><img src="https://metrika-informer.com/informer/91267624/3_0_FFFFFFFF_EFEFEFFF_0_pageviews"
style="width:88px; height:31px; border:0;float:right;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" class="ym-advanced-informer" data-cid="91267624" data-lang="ru" /></a>
<!-- /Yandex.Metrika informer -->

<p style="font-weight: bold;">© 2022 <a href="/about/">Иван Шихалев</a></p>

<p>Материалы сайта опубликованы под лицензией
<a style="font-weight: bold;" href="https://www.gnu.org/licenses/fdl-1.3.ru.html">GNU FDL 1.3</a>,
если не оговорено иное. <a href="https://github.com/shikhalev/jekyll-theme">Программный код</a> непосредственно сайта — под лицензией
<a style="font-weight: bold;" href="https://opensource.org/licenses/MIT">MIT</a>.</p>

<p>Сайт сформирован статическим генератором <a style="font-weight: bold;" href="https://jekyllrb.com/">Jekyll</a>. Отдельная благодарность автору <a style="font-weight: bold;" href="https://github.com/allejo/jekyll-toc">allejo/jekyll-toc</a>.</p>
</footer>

<div id="hl"></div>
<div id="hr"></div>
<div id="hb"></div>
<div id="fl"></div>
<div id="fr"></div>

</div> <!-- #grid -->

<div id="topper" title="Вернуться наверх страницы"><span class="fas">&#xf35b;</span></div>
<script async src="/assets/js/topper.js"></script>

</div> <!-- #global-box -->

</body>

</html>
